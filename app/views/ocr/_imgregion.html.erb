<div class="grid grid-cols-2 gap-4">
  <div>
    <!-- Rotation Controls -->
    <div class="rotation-controls mb-4">
      <button type="button" 
              data-action="click->image-rotation#rotateCounterclockwise"
              class="button button-secondary">
        ↺ Rotate Left
      </button>
      
      <button type="button" 
              data-action="click->image-rotation#reset"
              class="button button-secondary">
        Reset
      </button>
      
      <button type="button" 
              data-action="click->image-rotation#rotateClockwise"
              class="button button-secondary">
        Rotate Right ↻
      </button>
      
      <!-- Hidden input to track rotation for OCR processing -->
      <input type="hidden" 
             data-image-rotation-target="rotationInput"
             name="rotation" 
             value="0">
    </div>
    
    <div class="canvases" data-image-rotation-target="image">
      <canvas 
        id="canvas0"
        class="ocrcanvas" 
        data-ocr-selection-target="canvasImg"
        >
      </canvas>
      <canvas 
        id="canvas1"
        class="ocrcanvas" 
        data-ocr-selection-target="canvasSelect"
        data-action="mousedown->ocr-selection#mousedown mouseup->ocr-selection#mouseup mousemove->ocr-selection#mousemove"
        >
      </canvas>
    </div>
  </div>
  <div>
    <div>
      <%= select_tag 'language', options_for_select([[t('ocr.show.lang.deu'), 'deu'], [t('ocr.show.lang.eng'), 'eng']], 'deu'), data: { 'ocr-selection-target': 'language'} %>
      <%= button_tag t('ocr.show.submit'), class: 'button', data: { action: 'click->ocr-selection#submit'} %>
      <span class="hidden" data-ocr-selection-target="spinner">
        <i class="fas fa-spinner fa-spin"></i>
      </span>
      <%= button_tag t('ocr.show.toclipboard'), class: 'button', data: { action: 'click->ocr-selection#toclipboard', 'ocr-selection-target': 'toclipboardbtn'} %>
      <%= button_tag t('ocr.show.cleanup_with_gpt'), class: 'button button-secondary', data: { action: 'click->ocr-selection#cleanupWithGpt', 'ocr-selection-target': 'cleanupBtn'} %>
      <%= button_tag t('ocr.show.save_to_recipe'), class: 'button button-action', data: { action: 'click->ocr-selection#saveToRecipe', 'ocr-selection-target': 'saveToRecipeBtn'} %>
      
      <%= text_area_tag :recognized, 
            nil, 
            class: 'textarea w-full', 
            placeholder: t('ocr.show.recognized_text_placeholder'), 
            data: { 
              'ocr-selection-target': 'recognizedtext'
            }, 
            rows: 20, 
            autocomplete: 'off' 
      %>    </div>
  </div>
</div>
